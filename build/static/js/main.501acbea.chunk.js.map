{"version":3,"sources":["ModalBook.js","BooksBlock.js","ModalVisitor.js","VisitorsBlock.js","ModalCart.js","CartsBlock.js","StatisticBlock.js","App.js","serviceWorker.js","index.js"],"names":["ModalBook","props","state","close","book","books","isNew","error","onChangeText","bind","saveBook","deleteBook","addBook","this","id","setState","e","item","test","target","value","substring","length","count","prop","hasOwnProperty","i","localStorage","removeItem","setItem","JSON","stringify","splice","carts","parse","getItem","maxId","forEach","parseInt","push","className","onClick","type","onChange","name","author","year","publish","pages","React","Component","BooksBlock","searchTag","editView","modalContext","showEditBook","bookEdit","onChangeSelect","searchBook","showModalBook","closeModalBook","toUpperCase","startsWith","indexOf","sort","a","b","localeCompare","map","key","ModalVisitor","visitor","visitors","saveVisitor","deleteVisitor","addVisitor","phone","VisitorsBlock","showEditVisitor","visitorEdit","searchVisitor","showModalVisitor","closeModalVisitor","ModalCart","cart","addCart","filter","date","Date","dateTake","getDate","getMonth","getFullYear","CartsBlock","searchCart","showModalCart","closeModalCart","returnBook","item2","dateGive","showEditCart","StatisticBlock","getTopBooks","getTopVisitors","cartsBook","find","temp","sortCart","slice","cartsVisitor","booksArray","visitorsArray","cartsArray","App","page","getPage","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.501acbea.chunk.js","sourcesContent":["import React from 'react';\r\nimport './ModalBook.css';\r\n\r\n\r\nclass ModalBook extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        close:props.close,\r\n        book:props.book,\r\n        books:props.books,\r\n        isNew:false,\r\n        error:false\r\n    }\r\n    this.onChangeText=this.onChangeText.bind(this);\r\n    this.saveBook = this.saveBook.bind(this);\r\n    this.deleteBook = this.deleteBook.bind(this);\r\n    this.addBook = this.addBook.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n      if(!this.state.book.id)\r\n      this.setState({isNew:true})\r\n      else\r\n      this.setState({isNew:false})\r\n  }\r\n  onChangeText(e,item){\r\n    this.setState({error:false});\r\n    var book = this.state.book;\r\n    var num = /^\\d+$/; \r\n    var word = /^\\D+$/;\r\n    if(item!=='pages')\r\n    if(item!=='count')\r\n    if(item!=='year')\r\n    if(word.test(e.target.value)===true){\r\n      book[item]=e.target.value;\r\n      this.setState({book:book});\r\n    }else{\r\n      e.target.value=e.target.value.substring(0,e.target.value.length-1);\r\n    }\r\n  \r\n    if(item!=='name')\r\n    if(item!=='author')\r\n    if(item!=='publish')\r\n    if(num.test(e.target.value)===true){\r\n      book[item]=e.target.value;\r\n      this.setState({book:book});\r\n    }else{\r\n      e.target.value=e.target.value.substring(0,e.target.value.length-1);\r\n    } \r\n  }\r\n\r\n  saveBook(book){\r\n    var count = 0;\r\n\r\n    for(var prop in book) {\r\n        if(book.hasOwnProperty(prop))\r\n            count++;\r\n    }\r\n\r\n    if(count<6){\r\n      this.setState({error:true});\r\n      return;\r\n    }\r\n   \r\n    if(book.id){\r\n    var books = this.state.books;\r\n    for(let i=0;i<books.length;i++){\r\n      if(books[i].id===book.id){\r\n        books[i]=book;\r\n      }\r\n    }\r\n    this.setState({books:books});\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(this.state.books));\r\n    this.state.close();\r\n    }\r\n    else{\r\n    this.addBook(book);\r\n    }\r\n  }\r\n\r\n  deleteBook(book){\r\n    var books = this.state.books;\r\n    for(let i=0;i<books.length;i++){\r\n      if(books[i].id===book.id){\r\n        books.splice(i, 1);\r\n      }\r\n    }\r\n    var carts = JSON.parse(localStorage.getItem('carts'));\r\n    for(let i=0;i<carts.length;i++){\r\n      if(carts[i].book.id===book.id){\r\n        carts.splice(i, 1);\r\n      }\r\n    }\r\n    this.setState({books:books});\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(books));\r\n    localStorage.removeItem(\"carts\")\r\n    localStorage.setItem('carts', JSON.stringify(carts));\r\n    this.state.close();\r\n  }\r\n\r\n  addBook(book){\r\n    var books = this.state.books;\r\n\r\n    var maxId = 0;\r\n    books.forEach(function(item){\r\n      if(maxId<parseInt(item.id))\r\n          maxId=parseInt(item.id);\r\n    });\r\n    book.id=''+(maxId+1);\r\n    books.push(book);\r\n    this.setState({books:books});\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(books));\r\n    this.state.close();\r\n  }\r\n\r\n  render() {\r\n      const book = this.state.book;\r\n    return (\r\n      <div className=\"modal\">\r\n          <div className=\"field-close\" onClick={this.state.close}></div>\r\n          <div className=\"modal-context\">\r\n              <div className=\"header\">\r\n                  {this.state.isNew===false ? (\r\n                  <h3>EDIT BOOK</h3> \r\n                  ) : (\r\n                  <h3>CREATE BOOK</h3>\r\n                  )}\r\n                  <span onClick={this.state.close}>X</span>\r\n              </div>\r\n              <div className=\"content\">\r\n                <label>Name:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'name')} value={book.name}/>\r\n                <label>Author:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'author')} value={book.author}/>\r\n                <label>Year:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'year')} value={book.year}/>\r\n                <label>Publish:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'publish')} value={book.publish}/>\r\n                <label>Pages:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'pages')} value={book.pages}/>\r\n                <label>Count:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'count')} value={book.count}/>\r\n                {this.state.error &&\r\n                   <span>Error value input</span>\r\n                }\r\n                <div>\r\n                    <button onClick={()=>this.saveBook(book)}>Save</button>\r\n                    {this.state.isNew===false &&\r\n                    <button onClick={()=>this.deleteBook(book)}>Delete</button>\r\n                    }\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default ModalBook;\r\n","import React from 'react';\r\nimport './BooksBlock.css';\r\nimport ModalBook from './ModalBook'\r\n\r\nclass BooksBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        books:[],\r\n        searchTag:'name',\r\n        editView:false,\r\n        modalContext:'',\r\n        showEditBook:false,\r\n        bookEdit:{}\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchBook = this.searchBook.bind(this);\r\n    this.showModalBook = this.showModalBook.bind(this);\r\n    this.closeModalBook = this.closeModalBook.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({books:JSON.parse(localStorage.getItem('books'))});\r\n  }\r\n\r\n  searchBook(e){\r\n    var books = JSON.parse(localStorage.getItem('books'));\r\n    books.forEach(function(item){\r\n        if(!item.name.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n          if(!item.author.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n            if(!item.publish.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n              delete books[books.indexOf(item)];\r\n    });\r\n\r\n    this.setState({books:books});\r\n  }\r\n\r\n  showModalBook(e){\r\n    var book = {};\r\n    this.state.books.forEach(function(item){\r\n        if(item.id===e){\r\n          book=item;\r\n        }\r\n    });\r\n    this.setState({bookEdit:book,showEditBook:true});\r\n  }\r\n\r\n  closeModalBook(){\r\n    this.setState({showEditBook:false});\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var books = this.state.books;\r\n       books = books.sort(function (a, b) {\r\n           return a[e.target.value].localeCompare(b[e.target.value]);\r\n       })\r\n\r\n    this.setState({books:books,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const books = this.state.books;\r\n    return (     \r\n      <div className=\"books-block\">\r\n         {this.state.showEditBook &&                   \r\n          <ModalBook books={this.state.books} className=\"modal\" book={JSON.parse(JSON.stringify(this.state.bookEdit))} close={this.closeModalBook}/>\r\n        }\r\n          <div className=\"header\">\r\n              <h3>ALL BOOKS:</h3>\r\n              <button onClick={()=>this.showModalBook({})}>New book</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>             \r\n                    <option value=\"name\">NAME</option>\r\n                    <option value=\"author\">AUTHOR</option>   \r\n                    <option value=\"count\">COUNT</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchBook}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>AUTHOR</th>\r\n                <th>YEAR</th>\r\n                <th>PUBLISH</th>\r\n                <th>PAGES</th>\r\n                <th>COUNT</th>\r\n                <th>EDIT</th>\r\n                {books.map(item=>\r\n                    <tr key={item.id}>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.author}</td>\r\n                        <td>{item.year}</td>\r\n                        <td>{item.publish}</td>\r\n                        <td>{item.pages}</td>\r\n                        <td>{item.count}</td>\r\n                        <td><span key={item.id} onClick={()=>this.showModalBook(item.id)}>&#128393;</span></td>\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default BooksBlock;","import React from 'react';\r\nimport './ModalVisitor.css';\r\n\r\n\r\nclass ModalVisitor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        close:props.close,\r\n        visitor:props.visitor,\r\n        visitors:props.visitors,\r\n        isNew:false,\r\n        error:false\r\n    }\r\n    this.onChangeText=this.onChangeText.bind(this);\r\n    this.saveVisitor = this.saveVisitor.bind(this);\r\n    this.deleteVisitor = this.deleteVisitor.bind(this);\r\n    this.addVisitor = this.addVisitor.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n      if(!this.state.visitor.id)\r\n      this.setState({isNew:true})\r\n      else\r\n      this.setState({isNew:false})\r\n  }\r\n  onChangeText(e,item){     \r\n    this.setState({error:false});\r\n      var visitor = this.state.visitor;\r\n      var num = /^[0-9\\s-]+$/; \r\n      var word = /^\\D+$/;\r\n      if(item!=='phone'){\r\n        if(word.test(e.target.value)===true){\r\n          visitor[item]=e.target.value;\r\n          this.setState({visitor:visitor});\r\n        }else{\r\n          e.target.value=e.target.value.substring(0,e.target.value.length-1);\r\n        }\r\n      }else{\r\n        if(num.test(e.target.value)===true){\r\n          visitor[item]=e.target.value;\r\n          this.setState({visitor:visitor});\r\n        }else{\r\n          e.target.value=e.target.value.substring(0,e.target.value.length-1);\r\n        }\r\n      }\r\n  }\r\n\r\n  saveVisitor(visitor){\r\n    var count = 0;\r\n\r\n    for(var prop in visitor) {\r\n        if(visitor.hasOwnProperty(prop))\r\n            count++;\r\n    }\r\n\r\n    if(count<2){\r\n      this.setState({error:true});\r\n      return;\r\n    }\r\n\r\n    if(visitor.id){\r\n    var visitors = this.state.visitors;\r\n    for(let i=0;i<visitors.length;i++){\r\n      if(visitors[i].id===visitor.id){\r\n        visitors[i]=visitor;\r\n      }\r\n    }\r\n    this.setState({visitors:visitors});\r\n    localStorage.removeItem(\"visitors\")\r\n    localStorage.setItem('visitors', JSON.stringify(this.state.visitors));\r\n    this.state.close();\r\n    }\r\n    else{\r\n    this.addVisitor(visitor);\r\n    }\r\n  }\r\n\r\n  deleteVisitor(visitor){\r\n    var visitors = this.state.visitors;\r\n    for(let i=0;i<visitors.length;i++){\r\n      if(visitors[i].id===visitor.id){\r\n        visitors.splice(i, 1);\r\n      }\r\n    }\r\n    var carts = JSON.parse(localStorage.getItem('carts'));\r\n    for(let i=0;i<carts.length;i++){\r\n      if(carts[i].visitor.id===visitor.id){\r\n        carts.splice(i, 1);\r\n      }\r\n    }\r\n    this.setState({visitors:visitors});\r\n    localStorage.removeItem(\"visitors\")\r\n    localStorage.setItem('visitors', JSON.stringify(visitors));\r\n    localStorage.removeItem(\"carts\")\r\n    localStorage.setItem('carts', JSON.stringify(carts));\r\n    this.state.close();\r\n  }\r\n\r\n  addVisitor(visitor){\r\n    var visitors = this.state.visitors;\r\n\r\n    var maxId = 0;\r\n    visitors.forEach(function(item){\r\n      if(maxId<parseInt(item.id))\r\n          maxId=parseInt(item.id);\r\n    });\r\n    visitor.id=''+(maxId+1);\r\n    visitors.push(visitor);\r\n    this.setState({visitors:visitors});\r\n    localStorage.removeItem(\"visitors\")\r\n    localStorage.setItem('visitors', JSON.stringify(visitors));\r\n    this.state.close();\r\n  }\r\n\r\n  render() {\r\n      const visitor = this.state.visitor;\r\n    return (\r\n      <div className=\"modal\">\r\n          <div className=\"field-close\" onClick={this.state.close}></div>\r\n          <div className=\"modal-context\">\r\n              <div className=\"header\">\r\n                  {this.state.isNew===false ? (\r\n                  <h3>EDIT VISITOR</h3> \r\n                  ) : (\r\n                  <h3>CREATE VISITOR</h3>\r\n                  )}\r\n                  <span onClick={this.state.close}>X</span>\r\n              </div>\r\n              <div className=\"content\">\r\n                <label>Name:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'name')} value={visitor.name}/>\r\n                <label>Phone:</label>\r\n                <input type=\"text\" onChange={(e)=>this.onChangeText(e,'phone')} value={visitor.phone}/>\r\n                {this.state.error &&\r\n                   <span>Error value input</span>\r\n                }\r\n                <div>\r\n                    <button onClick={()=>this.saveVisitor(visitor)}>Save</button>\r\n                    {this.state.isNew===false &&\r\n                    <button onClick={()=>this.deleteVisitor(visitor)}>Delete</button>\r\n                    }\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default ModalVisitor;\r\n","import React from 'react';\r\nimport './VisitorsBlock.css';\r\nimport ModalVisitor from './ModalVisitor'\r\n\r\nclass VisitorsBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        visitors:[],\r\n        searchTag:'id',\r\n        editView:false,\r\n        modalContext:'',\r\n        showEditVisitor:false,\r\n        visitorEdit:{}\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchVisitor = this.searchVisitor.bind(this);\r\n    this.showModalVisitor = this.showModalVisitor.bind(this);\r\n    this.closeModalVisitor = this.closeModalVisitor.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({visitors:JSON.parse(localStorage.getItem('visitors'))});\r\n  }\r\n\r\n  searchVisitor(e){\r\n    var visitors = JSON.parse(localStorage.getItem('visitors'));\r\n    if(e.target.value.length>0)\r\n    visitors.forEach(function(item){\r\n        if(!item.name.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n          if(!item.phone.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n            delete visitors[visitors.indexOf(item)];\r\n    });\r\n\r\n    this.setState({visitors:visitors});\r\n  }\r\n\r\n  showModalVisitor(e){\r\n    var visitors = {};\r\n    this.state.visitors.forEach(function(item){\r\n        if(item.id===e){\r\n            visitors=item;\r\n        }\r\n    });\r\n    this.setState({visitorEdit:visitors,showEditVisitor:true});\r\n  }\r\n\r\n  closeModalVisitor(){\r\n    this.setState({showEditVisitor:false});\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var visitors = this.state.visitors;\r\n    visitors = visitors.sort(function (a, b) {\r\n           return a[e.target.value].localeCompare(b[e.target.value]);\r\n       })\r\n\r\n    this.setState({visitors:visitors,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const visitors = this.state.visitors;\r\n    return (     \r\n      <div className=\"visitors-block\">\r\n         {this.state.showEditVisitor &&                   \r\n          <ModalVisitor visitors={this.state.visitors} className=\"modal\" visitor={JSON.parse(JSON.stringify(this.state.visitorEdit))} close={this.closeModalVisitor}/>\r\n        }\r\n          <div className=\"header\">\r\n              <h3>ALL VISITORS:</h3>\r\n              <button onClick={()=>this.showModalVisitor({})}>New visitor</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>             \r\n                    <option value=\"name\">NAME</option>\r\n                    <option value=\"id\">ID</option>   \r\n                    <option value=\"phone\">PHONE</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchVisitor}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PHONE</th>\r\n                <th>EDIT</th>\r\n                {visitors.map(item=>\r\n                    <tr key={item.id}>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.phone}</td>\r\n                        <td><span key={item.id} onClick={()=>this.showModalVisitor(item.id)}>&#128393;</span></td>\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default VisitorsBlock;","import React from 'react';\r\nimport './ModalCart.css';\r\n\r\n\r\nclass ModalCart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        close:props.close,\r\n        carts:props.carts,\r\n        visitors:props.visitors,\r\n        books:props.books,\r\n        cart:{},\r\n        book:props.books[0],\r\n        visitor:props.visitors[0],\r\n    }\r\n    this.onChangeSelect=this.onChangeSelect.bind(this);\r\n    this.addCart = this.addCart.bind(this);\r\n  }\r\n\r\n  onChangeSelect(e,item){\r\n      var cart = this.state.cart;\r\n      var books = this.state.books;\r\n      var visitors = this.state.visitors;\r\n      if(item=='book'){\r\n         books.forEach(function (book) { \r\n            if(book.id===e.target.value){\r\n            cart.book=book;\r\n            }\r\n         });\r\n\r\n         this.setState({book:cart.book});\r\n      }\r\n      if(item=='visitor'){\r\n        visitors.forEach(function (visitor) { \r\n           if(visitor.id==e.target.value)\r\n           cart.visitor=visitor;\r\n        });       \r\n        this.setState({visitor:cart.visitor});\r\n     }\r\n      this.setState({cart:cart});\r\n  }\r\n  \r\n  addCart(){\r\n    var cart = this.state.cart;\r\n    if(!cart.hasOwnProperty('book')){\r\n        if(this.state.books.filter(item=>item.count>0).length<1){\r\n            return\r\n        }\r\n        cart.book=this.state.books[0];\r\n    }\r\n    if(!cart.hasOwnProperty('visitor')){\r\n        if(this.state.visitors.length<1){\r\n            return\r\n        }\r\n        cart.visitor=this.state.visitors[0];\r\n    }\r\n    var carts = this.state.carts;\r\n    var maxId = 0;\r\n    carts.forEach(function(item){\r\n    if(maxId<parseInt(item.id))\r\n        maxId=parseInt(item.id);\r\n    });\r\n    cart.id=''+(maxId+1);\r\n    var date = new Date();\r\n    cart.dateTake= date.getDate()+\"-\"+(date.getMonth()+1)+\"-\"+date.getFullYear();\r\n    ;\r\n    carts.push(cart);\r\n    this.setState({carts:carts});\r\n    var books = this.state.books;\r\n    books.forEach(function (item) {\r\n        if(item.id===cart.book.id){\r\n            books[books.indexOf(item)].count = parseInt(books[books.indexOf(item)].count-1)+'';\r\n        }\r\n    });\r\n    localStorage.removeItem(\"carts\")\r\n    localStorage.setItem('carts', JSON.stringify(carts));\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(books));\r\n    this.state.close();\r\n  }\r\n\r\n  render() {\r\n      const books = this.state.books.filter(item=>item.count>0);\r\n      const visitors = this.state.visitors;\r\n    return (\r\n      <div className=\"modal\">\r\n          <div className=\"field-close\" onClick={this.state.close}></div>\r\n          <div className=\"modal-context\">\r\n              <div className=\"header\">\r\n                  <h3>CREATE CART</h3>\r\n                  <span onClick={this.state.close}>X</span>\r\n              </div>\r\n              <div className=\"content\">\r\n                <label>Book:</label>\r\n                <select value={this.state.book.id} onChange={(e)=>this.onChangeSelect(e,'book')}>   \r\n                    {books.map(item=>                \r\n                        <option key={item.id} value={item.id}>{item.name}</option>\r\n                    )}    \r\n                </select>\r\n                <label>Visitor:</label>\r\n                <select value={this.state.visitor.id} onChange={(e)=>this.onChangeSelect(e,'visitor')}>   \r\n                    {visitors.map(item=>                 \r\n                        <option key={item.id} value={item.id}>{item.name}</option>\r\n                     )}    \r\n                </select>\r\n                <div>\r\n                    <button onClick={()=>this.addCart()}>Save</button>\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default ModalCart;\r\n","import React from 'react';\r\nimport './CartsBlock.css';\r\nimport ModalCart from './ModalCart'\r\n\r\nclass CartsBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        carts:[],\r\n        searchTag:'visitor.name',\r\n        visitors:[],\r\n        books:[],\r\n        modalContext:''\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchCart = this.searchCart.bind(this);\r\n    this.showModalCart = this.showModalCart.bind(this);\r\n    this.closeModalCart = this.closeModalCart.bind(this);\r\n    this.returnBook = this.returnBook.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({carts:JSON.parse(localStorage.getItem('carts'))});\r\n    this.setState({visitors:JSON.parse(localStorage.getItem('visitors'))});\r\n    this.setState({books:JSON.parse(localStorage.getItem('books'))});\r\n  }\r\n\r\n  searchCart(e){\r\n    var carts = JSON.parse(localStorage.getItem('carts'));\r\n    if(e.target.value.length>0)\r\n    carts.forEach(function(item){\r\n        if(!item.visitor.name.toUpperCase().startsWith(e.target.value.toUpperCase())){\r\n            delete carts[carts.indexOf(item)];\r\n        }\r\n    });\r\n\r\n    this.setState({carts:carts});\r\n  }\r\n\r\n  returnBook(cart){\r\n    var books = JSON.parse(localStorage.getItem('books'));\r\n    var carts = this.state.carts;\r\n    books.forEach(function (item) {\r\n        if(item.id===cart.book.id){\r\n            books[books.indexOf(item)].count=(parseInt(books[books.indexOf(item)].count)+1)+'';\r\n            carts.forEach(function (item2) {\r\n                if(item2.id===cart.id){\r\n                    var date = new Date();\r\n                  carts[carts.indexOf(item2)].dateGive= date.getDate()+\"-\"+(date.getMonth()+1)+\"-\"+date.getFullYear();\r\n                }\r\n            })\r\n        }\r\n    });\r\n    this.setState({carts:carts});\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(books));\r\n    localStorage.removeItem(\"carts\")\r\n    localStorage.setItem('carts', JSON.stringify(carts));\r\n  }\r\n\r\n  showModalCart(e){\r\n    this.setState({showEditCart:true});\r\n  }\r\n\r\n  closeModalCart(){\r\n    this.setState({showEditCart:false});\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var carts = this.state.carts;\r\n    carts = carts.sort(function (a, b) {\r\n           return a[e.target.value].name.localeCompare(b[e.target.value].name);\r\n       })\r\n\r\n    this.setState({carts:carts,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const carts = this.state.carts;\r\n    return (     \r\n      <div className=\"carts-block\">\r\n         {this.state.showEditCart &&                   \r\n          <ModalCart key={this.key} visitors={this.state.visitors} books={this.state.books} carts={this.state.carts} className=\"modal\" close={this.closeModalCart}/>\r\n        }\r\n          <div className=\"header\">\r\n              <h3>ALL CARTS:</h3>\r\n              <button onClick={()=>this.showModalCart({})}>New cart</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>             \r\n                    <option value=\"visitor\">VISITOR NAME</option>\r\n                    <option value=\"book\">BOOK NAME</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchCart}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>VISITOR NAME</th>\r\n                <th>BOOK NAME</th>\r\n                <th>DATE TAKE</th>\r\n                <th>DATE GIVE</th>\r\n                {carts.map(item=>\r\n                    <tr key={item.id}>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.visitor.name}</td>\r\n                        <td>{item.book.name}</td>\r\n                        <td>{item.dateTake}</td>\r\n                        {item.dateGive ?(    \r\n                             <td>{item.dateGive}</td>\r\n                        ) : (\r\n                             <td><span key={item.id} onClick={()=>this.returnBook(item)}>&#9166;</span></td>\r\n                        )}\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default CartsBlock;","import React from 'react';\r\nimport './StatisticBlock.css';\r\n\r\nclass StatisticBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        carts:[]\r\n    }\r\n    this.getTopBooks = this.getTopBooks.bind(this);\r\n    this.getTopVisitors = this.getTopVisitors.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.setState({carts:JSON.parse(localStorage.getItem('carts'))});\r\n  }\r\n\r\n  getTopBooks(){\r\n    var carts = this.state.carts;\r\n    var cartsBook = [];\r\n\r\n    carts.forEach(function(item){\r\n        if(!cartsBook.find(i=>i.book.name===item.book.name)){\r\n            var temp = item;\r\n            temp.count=0;\r\n            cartsBook.push(temp);       \r\n        }\r\n    })\r\n\r\n    carts.forEach(function(item){\r\n            cartsBook.find(i=>i.book.name===item.book.name).count+=1;\r\n    })\r\n\r\n    var sortCart = cartsBook.sort(function(a,b){\r\n        if (a.count < b.count) {\r\n            return 1;\r\n          }\r\n          if (a.count > b.count) {\r\n            return -1;\r\n          }\r\n\r\n          return 0;\r\n    })\r\n    sortCart = sortCart.slice(0,5);\r\n    return(\r\n        <table>\r\n            <caption>TOP 5 BOOKS</caption>\r\n            {sortCart.map(item=>\r\n            <tr>\r\n                <td>{item.book.name}</td>\r\n            </tr>\r\n            )}\r\n        </table>\r\n    )\r\n  }\r\n\r\n  getTopVisitors(){\r\n    var carts = this.state.carts;\r\n    var cartsVisitor = [];\r\n\r\n    carts.forEach(function(item){\r\n        if(!cartsVisitor.find(i=>i.visitor.name===item.visitor.name)){\r\n            var temp = item;\r\n            temp.count=0;\r\n            cartsVisitor.push(temp);       \r\n        }\r\n    })\r\n\r\n    carts.forEach(function(item){\r\n        cartsVisitor.find(i=>i.visitor.name===item.visitor.name).count+=1;\r\n    })\r\n\r\n    var sortCart = cartsVisitor.sort(function(a,b){\r\n        if (a.count < b.count) {\r\n            return 1;\r\n          }\r\n          if (a.count > b.count) {\r\n            return -1;\r\n          }\r\n\r\n          return 0;\r\n    })\r\n\r\n    sortCart = sortCart.slice(0,5);\r\n    \r\n    return(\r\n        <table>\r\n            <caption>TOP 5 VISITORS</caption>\r\n            {sortCart.map(item=>\r\n            <tr>\r\n                <td>{item.visitor.name}</td>\r\n            </tr>\r\n            )}\r\n        </table>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (     \r\n      <div className=\"statistic-block\">\r\n        {this.getTopBooks()}\r\n        {this.getTopVisitors()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default StatisticBlock;","import React from 'react';\r\nimport './App.css';\r\nimport BooksBlock from './BooksBlock'\r\nimport VisitorsBlock from './VisitorsBlock';\r\nimport CartsBlock from './CartsBlock';\r\nimport StatisticBlock from './StatisticBlock';\r\n\r\nvar booksArray = [{\r\n  id:\"1\",\r\n  name: 'Learn JS',\r\n  author: 'Btchanov A.A',\r\n  year: \"2019\",\r\n  publish: 'Step Academy',\r\n  pages: \"2048\",\r\n  count: \"10\"\r\n},\r\n{\r\n  id:\"2\",\r\n  name: 'Learn React JS',\r\n  author: 'Atchanov A.A',\r\n  year: \"2019\",\r\n  publish: 'Step Academy',\r\n  pages: \"1024\",\r\n  count: \"5\"\r\n}]\r\n\r\nvar visitorsArray =[{\r\n    id:\"1\",\r\n    name: 'Sasha',\r\n    phone: '123321'\r\n},\r\n{\r\n  id:\"2\",\r\n  name: 'Pasha',\r\n  phone: '32131'\r\n}]\r\n\r\nvar cartsArray =[{\r\n  id:\"1\",\r\n  visitor: {\r\n    id:\"1\",\r\n    name: 'Sasha',\r\n    phone: '123321'\r\n  },\r\n  book: {\r\n    id:\"2\",\r\n    name: 'Learn React JS',\r\n    author: 'Atchanov A.A',\r\n    year: \"2019\",\r\n    publish: 'Step Academy',\r\n    pages: \"1024\",\r\n    count: \"5\"\r\n  },\r\n  dateTake:\"20.05.1992\",\r\n  dateGive:''\r\n}]\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      page:<BooksBlock/>,\r\n      key:0\r\n    }\r\n    this.getPage = this.getPage.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('books')==null){\r\n       localStorage.setItem('books', JSON.stringify(booksArray));\r\n    }\r\n\r\n    if(localStorage.getItem('visitors')==null){\r\n      localStorage.setItem('visitors', JSON.stringify(visitorsArray));\r\n    }\r\n\r\n    if(localStorage.getItem('carts')==null){\r\n      localStorage.setItem('carts', JSON.stringify(cartsArray));\r\n    }\r\n  }\r\n  \r\n  getPage(page){\r\n    this.setState({key:this.state.key+1,page:page});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>  \r\n        <div className=\"app\">\r\n          <div className=\"header\">\r\n            <h1>LIBRARY</h1>\r\n            <ul className=\"menu\">\r\n              <li onClick={()=>this.getPage(<BooksBlock key={this.state.key}/>)}>Books</li>\r\n              <li onClick={()=>this.getPage(<VisitorsBlock key={this.state.key}/>)}>Visitors</li>\r\n              <li onClick={()=>this.getPage(<CartsBlock key={this.state.key}/>)}>Cards</li>\r\n              <li onClick={()=>this.getPage(<StatisticBlock key={this.state.key}/>)}>Statistics</li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"content\">\r\n              {this.state.page}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}