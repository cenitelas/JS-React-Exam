{"ast":null,"code":"var _jsxFileName = \"D:\\\\JS-React-Exam\\\\src\\\\BooksBlock.js\";\nimport React from 'react';\nimport './BooksBlock.css';\n\nclass BooksBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      searchTag: 'id',\n      editView: false,\n      modalContext: '',\n      showModal: props.showModalBook\n    };\n    this.onChangeSelect = this.onChangeSelect.bind(this);\n    this.searchBook = this.searchBook.bind(this);\n    this.bookEditView = this.bookEditView.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      books: JSON.parse(localStorage.getItem('books'))\n    });\n  }\n\n  searchBook(e) {\n    var books = JSON.parse(JSON.stringify(this.state.books));\n    books.forEach(function (item) {\n      if (!item.name.toUpperCase().startsWith(e.target.value.toUpperCase())) {\n        delete books[books.indexOf(item)];\n      }\n    });\n    this.setState({\n      books: books\n    });\n  }\n\n  showModal() {}\n\n  bookEditView(e) {\n    var book = {};\n    this.state.books.forEach(function (item) {\n      if (item.id === e) {\n        book = item;\n      }\n    });\n    this.state.showModal(book);\n  }\n\n  onChangeSelect(e) {\n    var books = this.state.books;\n    books = books.sort(function (a, b) {\n      return a[e.target.value].localeCompare(b[e.target.value]);\n    });\n    this.setState({\n      books: books,\n      searchTag: e.target.value\n    });\n  }\n\n  render() {\n    const books = this.state.books;\n    return React.createElement(\"div\", {\n      className: \"books-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"ALL BOOKS:\"), React.createElement(\"button\", {\n      onClick: () => this.state.showModal({}),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"New book\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Sort by:\"), React.createElement(\"select\", {\n      value: this.state.searchTag,\n      onChange: e => this.onChangeSelect(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"option\", {\n      value: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"option\", {\n      value: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"AUTHOR\"), React.createElement(\"option\", {\n      value: \"year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"YEAR\"), React.createElement(\"option\", {\n      value: \"publish\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"PUBLISH\"), React.createElement(\"option\", {\n      value: \"pages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"PAGES\"), React.createElement(\"option\", {\n      value: \"count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"COUNT\"))), React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Search:\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.searchBook,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"AUTHOR\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"YEAR\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"PUBLISH\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"PAGES\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"COUNT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"EDIT\"), books.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, item.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, item.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, item.year), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, item.publish), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, item.pages), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, item.count), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      key: item.id,\n      onClick: () => this.bookEditView(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"EDIT\")))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default BooksBlock;","map":{"version":3,"sources":["D:\\JS-React-Exam\\src\\BooksBlock.js"],"names":["React","BooksBlock","Component","constructor","props","state","books","searchTag","editView","modalContext","showModal","showModalBook","onChangeSelect","bind","searchBook","bookEditView","componentDidMount","setState","JSON","parse","localStorage","getItem","e","stringify","forEach","item","name","toUpperCase","startsWith","target","value","indexOf","book","id","sort","a","b","localeCompare","render","map","author","year","publish","pages","count"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './BooksBlock.css';\r\n\r\n\r\nclass BooksBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        books:[],\r\n        searchTag:'id',\r\n        editView:false,\r\n        modalContext:'',\r\n        showModal:props.showModalBook\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchBook = this.searchBook.bind(this);\r\n    this.bookEditView = this.bookEditView.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({books:JSON.parse(localStorage.getItem('books'))});\r\n  }\r\n\r\n  searchBook(e){\r\n    var books = JSON.parse(JSON.stringify(this.state.books))\r\n    books.forEach(function(item){\r\n        if(!item.name.toUpperCase().startsWith(e.target.value.toUpperCase())){\r\n            delete books[books.indexOf(item)];\r\n        }\r\n    });\r\n\r\n    this.setState({books:books});\r\n  }\r\n  showModal(){\r\n    \r\n  }\r\n  bookEditView(e){\r\n    var book = {};\r\n    this.state.books.forEach(function(item){\r\n        if(item.id===e){\r\n          book=item;\r\n        }\r\n    });\r\n    this.state.showModal(book);\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var books = this.state.books;\r\n       books = books.sort(function (a, b) {\r\n           return a[e.target.value].localeCompare(b[e.target.value]);\r\n       })\r\n\r\n    this.setState({books:books,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const books = this.state.books;\r\n    return (\r\n      <div className=\"books-block\">\r\n          <div className=\"header\">\r\n              <h3>ALL BOOKS:</h3>\r\n              <button onClick={()=>this.state.showModal({})}>New book</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>\r\n                    <option value=\"id\">ID</option>\r\n                    <option value=\"name\">NAME</option>\r\n                    <option value=\"author\">AUTHOR</option>\r\n                    <option value=\"year\">YEAR</option>\r\n                    <option value=\"publish\">PUBLISH</option>\r\n                    <option value=\"pages\">PAGES</option>\r\n                    <option value=\"count\">COUNT</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchBook}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>AUTHOR</th>\r\n                <th>YEAR</th>\r\n                <th>PUBLISH</th>\r\n                <th>PAGES</th>\r\n                <th>COUNT</th>\r\n                <th>EDIT</th>\r\n                {books.map(item=>\r\n                    <tr>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.author}</td>\r\n                        <td>{item.year}</td>\r\n                        <td>{item.publish}</td>\r\n                        <td>{item.pages}</td>\r\n                        <td>{item.count}</td>\r\n                        <td><button key={item.id} onClick={()=>this.bookEditView(item.id)}>EDIT</button></td>\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default BooksBlock;"]},"metadata":{},"sourceType":"module"}