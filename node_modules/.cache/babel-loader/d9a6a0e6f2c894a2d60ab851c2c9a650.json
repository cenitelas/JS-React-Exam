{"ast":null,"code":"var _jsxFileName = \"C:\\\\JS-React-Exam\\\\src\\\\CartsBlock.js\";\nimport React from 'react';\nimport './CartsBlock.css';\nimport ModalCart from './ModalCart';\n\nclass CartsBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      carts: [],\n      searchTag: 'visitor.name',\n      visitors: [],\n      books: [],\n      modalContext: ''\n    };\n    this.onChangeSelect = this.onChangeSelect.bind(this);\n    this.searchCart = this.searchCart.bind(this);\n    this.showModalCart = this.showModalCart.bind(this);\n    this.closeModalCart = this.closeModalCart.bind(this);\n    this.returnBook = this.returnBook.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      carts: JSON.parse(localStorage.getItem('carts'))\n    });\n    this.setState({\n      visitors: JSON.parse(localStorage.getItem('visitors'))\n    });\n    this.setState({\n      books: JSON.parse(localStorage.getItem('books'))\n    });\n  }\n\n  searchCart(e) {\n    var carts = JSON.parse(localStorage.getItem('carts'));\n    if (e.target.value.length > 0) carts.forEach(function (item) {\n      if (!item.visitor.name.toUpperCase().startsWith(e.target.value.toUpperCase())) {\n        delete carts[carts.indexOf(item)];\n      }\n    });\n    this.setState({\n      carts: carts\n    });\n  }\n\n  returnBook(cart) {\n    var books = JSON.parse(localStorage.getItem('books'));\n    var carts = this.state.carts;\n    books.forEach(function (item) {\n      if (item.id === cart.book.id) {\n        books[books.indexOf(item)].count = parseInt(books[books.indexOf(item)].count) + 1 + '';\n        carts.forEach(function (item2) {\n          if (item2.id === cart.id) {\n            carts[carts.indexOf(item2)].dateGive = Date.now().toString();\n          }\n        });\n      }\n    });\n    this.setState({\n      carts: carts\n    });\n    localStorage.removeItem(\"books\");\n    localStorage.setItem('books', JSON.stringify(books));\n    localStorage.removeItem(\"carts\");\n    localStorage.setItem('carts', JSON.stringify(carts));\n  }\n\n  showModalCart(e) {\n    this.setState({\n      showEditCart: true\n    });\n  }\n\n  closeModalCart() {\n    this.setState({\n      showEditCart: false\n    });\n  }\n\n  onChangeSelect(e) {\n    var carts = this.state.carts;\n    carts = carts.sort(function (a, b) {\n      return a[e.target.value].localeCompare(b[e.target.value]);\n    });\n    this.setState({\n      carts: carts,\n      searchTag: e.target.value\n    });\n  }\n\n  render() {\n    const carts = this.state.carts;\n    return React.createElement(\"div\", {\n      className: \"carts-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.showEditCart && React.createElement(ModalCart, {\n      key: this.p,\n      visitors: this.state.visitors,\n      books: this.state.books,\n      carts: this.state.carts,\n      className: \"modal\",\n      close: this.closeModalCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"ALL CARTS:\"), React.createElement(\"button\", {\n      onClick: () => this.showModalCart({}),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"New cart\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Sort by:\"), React.createElement(\"select\", {\n      value: this.state.searchTag,\n      onChange: e => this.onChangeSelect(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"visitor.name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"VISITOR NAME\"), React.createElement(\"option\", {\n      value: \"book.name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"BOOK NAME\"))), React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Search:\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.searchCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"VISITOR NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"BOOK NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"DATE TAKE\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"DATE GIVE\"), carts.map(item => React.createElement(\"tr\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, item.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, item.visitor.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, item.book.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, item.dateTake), item.dateGive ? React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, item.dateGive) : React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      key: item.id,\n      onClick: () => this.returnBook(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"RETURN\")))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default CartsBlock;","map":{"version":3,"sources":["C:\\JS-React-Exam\\src\\CartsBlock.js"],"names":["React","ModalCart","CartsBlock","Component","constructor","props","state","carts","searchTag","visitors","books","modalContext","onChangeSelect","bind","searchCart","showModalCart","closeModalCart","returnBook","componentDidMount","setState","JSON","parse","localStorage","getItem","e","target","value","length","forEach","item","visitor","name","toUpperCase","startsWith","indexOf","cart","id","book","count","parseInt","item2","dateGive","Date","now","toString","removeItem","setItem","stringify","showEditCart","sort","a","b","localeCompare","render","p","map","dateTake"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './CartsBlock.css';\r\nimport ModalCart from './ModalCart'\r\n\r\nclass CartsBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        carts:[],\r\n        searchTag:'visitor.name',\r\n        visitors:[],\r\n        books:[],\r\n        modalContext:''\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchCart = this.searchCart.bind(this);\r\n    this.showModalCart = this.showModalCart.bind(this);\r\n    this.closeModalCart = this.closeModalCart.bind(this);\r\n    this.returnBook = this.returnBook.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({carts:JSON.parse(localStorage.getItem('carts'))});\r\n    this.setState({visitors:JSON.parse(localStorage.getItem('visitors'))});\r\n    this.setState({books:JSON.parse(localStorage.getItem('books'))});\r\n  }\r\n\r\n  searchCart(e){\r\n    var carts = JSON.parse(localStorage.getItem('carts'));\r\n    if(e.target.value.length>0)\r\n    carts.forEach(function(item){\r\n        if(!item.visitor.name.toUpperCase().startsWith(e.target.value.toUpperCase())){\r\n            delete carts[carts.indexOf(item)];\r\n        }\r\n    });\r\n\r\n    this.setState({carts:carts});\r\n  }\r\n\r\n  returnBook(cart){\r\n    var books = JSON.parse(localStorage.getItem('books'));\r\n    var carts = this.state.carts;\r\n    books.forEach(function (item) {\r\n        if(item.id===cart.book.id){\r\n            books[books.indexOf(item)].count=(parseInt(books[books.indexOf(item)].count)+1)+'';\r\n            carts.forEach(function (item2) {\r\n                if(item2.id===cart.id){\r\n                  carts[carts.indexOf(item2)].dateGive= Date.now().toString();\r\n                }\r\n            })\r\n        }\r\n    });\r\n    this.setState({carts:carts});\r\n    localStorage.removeItem(\"books\")\r\n    localStorage.setItem('books', JSON.stringify(books));\r\n    localStorage.removeItem(\"carts\")\r\n    localStorage.setItem('carts', JSON.stringify(carts));\r\n  }\r\n\r\n  showModalCart(e){\r\n    this.setState({showEditCart:true});\r\n  }\r\n\r\n  closeModalCart(){\r\n    this.setState({showEditCart:false});\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var carts = this.state.carts;\r\n    carts = carts.sort(function (a, b) {\r\n           return a[e.target.value].localeCompare(b[e.target.value]);\r\n       })\r\n\r\n    this.setState({carts:carts,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const carts = this.state.carts;\r\n    return (     \r\n      <div className=\"carts-block\">\r\n         {this.state.showEditCart &&                   \r\n          <ModalCart key={this.p} visitors={this.state.visitors} books={this.state.books} carts={this.state.carts} className=\"modal\" close={this.closeModalCart}/>\r\n        }\r\n          <div className=\"header\">\r\n              <h3>ALL CARTS:</h3>\r\n              <button onClick={()=>this.showModalCart({})}>New cart</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>             \r\n                    <option value=\"visitor.name\">VISITOR NAME</option>\r\n                    <option value=\"book.name\">BOOK NAME</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchCart}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>VISITOR NAME</th>\r\n                <th>BOOK NAME</th>\r\n                <th>DATE TAKE</th>\r\n                <th>DATE GIVE</th>\r\n                {carts.map(item=>\r\n                    <tr key={item.id}>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.visitor.name}</td>\r\n                        <td>{item.book.name}</td>\r\n                        <td>{item.dateTake}</td>\r\n                        {item.dateGive ?(    \r\n                             <td>{item.dateGive}</td>\r\n                        ) : (\r\n                             <td><button key={item.id} onClick={()=>this.returnBook(item)}>RETURN</button></td>\r\n                        )}\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default CartsBlock;"]},"metadata":{},"sourceType":"module"}