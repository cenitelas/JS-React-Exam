{"ast":null,"code":"var _jsxFileName = \"D:\\\\JS-React-Exam\\\\src\\\\StatisticBlock.js\";\nimport React from 'react';\nimport './BooksBlock.css';\nimport ModalBook from './ModalBook';\n\nclass StatisticBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      carts: []\n    };\n    this.getTopBooks = this.getTopBooks.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      carts: JSON.parse(localStorage.getItem('carts'))\n    });\n  }\n\n  getTopBooks() {\n    var carts = this.state.carts;\n    var cartsBook = [];\n\n    for (var i = 0; i < carts.length; i++) {\n      cartsBook[i] = carts[i];\n      cartsBook[i].count = 0;\n\n      for (var j = i + 1; j < carts.length; j++) {\n        if (carts[i].book === carts[j].book) {\n          cartsBook[i].count += 1;\n        }\n      }\n    }\n\n    cartsBook = cartsBook.sort((item, item2) => item.count > item2.count);\n    return React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"caption\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"TOP 5 BOOK\"), cartsBook.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, item.book.name))));\n  }\n\n  render() {\n    const books = this.state.books;\n    return React.createElement(\"div\", {\n      className: \"books-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, this.getTopBooks, \";\");\n  }\n\n}\n\nexport default StatisticBlock;","map":{"version":3,"sources":["D:\\JS-React-Exam\\src\\StatisticBlock.js"],"names":["React","ModalBook","StatisticBlock","Component","constructor","props","state","carts","getTopBooks","bind","componentDidMount","setState","JSON","parse","localStorage","getItem","cartsBook","i","length","count","j","book","sort","item","item2","map","name","render","books"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,MAAMC,cAAN,SAA6BF,KAAK,CAACG,SAAnC,CAA6C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,KAAK,EAAC;AADC,KAAX;AAGA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AACDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,QAAL,CAAc;AAACJ,MAAAA,KAAK,EAACK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAAP,KAAd;AACD;;AAEDP,EAAAA,WAAW,GAAE;AACX,QAAID,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAvB;AACA,QAAIS,SAAS,GAAG,EAAhB;;AAEA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACV,KAAK,CAACW,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC3BD,MAAAA,SAAS,CAACC,CAAD,CAAT,GAAaV,KAAK,CAACU,CAAD,CAAlB;AACAD,MAAAA,SAAS,CAACC,CAAD,CAAT,CAAaE,KAAb,GAAmB,CAAnB;;AACA,WAAI,IAAIC,CAAC,GAACH,CAAC,GAAC,CAAZ,EAAcG,CAAC,GAACb,KAAK,CAACW,MAAtB,EAA6BE,CAAC,EAA9B,EAAiC;AAC7B,YAAGb,KAAK,CAACU,CAAD,CAAL,CAASI,IAAT,KAAgBd,KAAK,CAACa,CAAD,CAAL,CAASC,IAA5B,EAAiC;AAC7BL,UAAAA,SAAS,CAACC,CAAD,CAAT,CAAaE,KAAb,IAAoB,CAApB;AACH;AACJ;AACJ;;AACDH,IAAAA,SAAS,GAAGA,SAAS,CAACM,IAAV,CAAe,CAACC,IAAD,EAAMC,KAAN,KAAcD,IAAI,CAACJ,KAAL,GAAWK,KAAK,CAACL,KAA9C,CAAZ;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEKH,SAAS,CAACS,GAAV,CAAcF,IAAI,IACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAACF,IAAL,CAAUK,IAAf,CADJ,CADC,CAFL,CADJ;AAUD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAMC,KAAK,GAAG,KAAKtB,KAAL,CAAWsB,KAAzB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKpB,WADR,MADF;AAKD;;AA7C0C;;AAiD7C,eAAeN,cAAf","sourcesContent":["import React from 'react';\r\nimport './BooksBlock.css';\r\nimport ModalBook from './ModalBook'\r\n\r\nclass StatisticBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        carts:[]\r\n    }\r\n    this.getTopBooks = this.getTopBooks.bind(this)\r\n  }\r\n  componentDidMount(){\r\n    this.setState({carts:JSON.parse(localStorage.getItem('carts'))});\r\n  }\r\n\r\n  getTopBooks(){\r\n    var carts = this.state.carts;\r\n    var cartsBook = [];\r\n\r\n    for(var i=0;i<carts.length;i++){\r\n        cartsBook[i]=carts[i];\r\n        cartsBook[i].count=0;\r\n        for(var j=i+1;j<carts.length;j++){\r\n            if(carts[i].book===carts[j].book){\r\n                cartsBook[i].count+=1;\r\n            }\r\n        }\r\n    }\r\n    cartsBook = cartsBook.sort((item,item2)=>item.count>item2.count);\r\n    return(\r\n        <table>\r\n            <caption>TOP 5 BOOK</caption>\r\n            {cartsBook.map(item=>\r\n            <tr>\r\n                <td>{item.book.name}</td>\r\n            </tr>\r\n            )}\r\n        </table>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const books = this.state.books;\r\n    return (     \r\n      <div className=\"books-block\">\r\n        {this.getTopBooks};\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default StatisticBlock;"]},"metadata":{},"sourceType":"module"}