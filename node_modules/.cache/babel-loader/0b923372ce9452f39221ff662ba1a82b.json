{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u0442\\u0447\\u0430\\u043D\\u043E\\u0432\\u0410\\\\JS-React-Exam\\\\src\\\\VisitorsBlock.js\";\nimport React from 'react';\nimport './VisitorsBlock.css';\nimport ModalVisitor from './ModalVisitor';\n\nclass VisitorsBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visitors: [],\n      searchTag: 'id',\n      editView: false,\n      modalContext: '',\n      showEditVisitor: false,\n      visitorEdit: {}\n    };\n    this.onChangeSelect = this.onChangeSelect.bind(this);\n    this.searchVisitor = this.searchVisitor.bind(this);\n    this.showModalVisitor = this.showModalVisitor.bind(this);\n    this.closeModalVisitor = this.closeModalVisitor.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      visitors: JSON.parse(localStorage.getItem('visitors'))\n    });\n  }\n\n  searchVisitor(e) {\n    var visitors = JSON.parse(localStorage.getItem('visitors'));\n    if (e.target.value.length > 0) visitors.forEach(function (item) {\n      if (!item.name.toUpperCase().startsWith(e.target.value.toUpperCase())) if (!item.phone.toUpperCase().startsWith(e.target.value.toUpperCase())) delete visitors[visitors.indexOf(item)];\n    });\n    this.setState({\n      visitors: visitors\n    });\n  }\n\n  showModalVisitor(e) {\n    var visitors = {};\n    this.state.visitors.forEach(function (item) {\n      if (item.id === e) {\n        visitors = item;\n      }\n    });\n    this.setState({\n      visitorEdit: visitors,\n      showEditVisitor: true\n    });\n  }\n\n  closeModalVisitor() {\n    this.setState({\n      showEditVisitor: false\n    });\n  }\n\n  onChangeSelect(e) {\n    var visitors = this.state.visitors;\n    visitors = visitors.sort(function (a, b) {\n      return a[e.target.value].localeCompare(b[e.target.value]);\n    });\n    this.setState({\n      visitors: visitors,\n      searchTag: e.target.value\n    });\n  }\n\n  render() {\n    const visitors = this.state.visitors;\n    return React.createElement(\"div\", {\n      className: \"visitors-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.showEditVisitor && React.createElement(ModalVisitor, {\n      visitors: this.state.visitors,\n      className: \"modal\",\n      visitor: JSON.parse(JSON.stringify(this.state.visitorEdit)),\n      close: this.closeModalVisitor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"ALL VISITORS:\"), React.createElement(\"button\", {\n      onClick: () => this.showModalVisitor({}),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"New visitor\")), React.createElement(\"div\", {\n      className: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Sort by:\"), React.createElement(\"select\", {\n      value: this.state.searchTag,\n      onChange: e => this.onChangeSelect(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"option\", {\n      value: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"option\", {\n      value: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"PHONE\"))), React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Search:\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.searchVisitor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"PHONE\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"EDIT\"), visitors.map(item => React.createElement(\"tr\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, item.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, item.phone), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      key: item.id,\n      onClick: () => this.showModalVisitor(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"EDIT\")))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default VisitorsBlock;","map":{"version":3,"sources":["C:\\Users\\АтчановА\\JS-React-Exam\\src\\VisitorsBlock.js"],"names":["React","ModalVisitor","VisitorsBlock","Component","constructor","props","state","visitors","searchTag","editView","modalContext","showEditVisitor","visitorEdit","onChangeSelect","bind","searchVisitor","showModalVisitor","closeModalVisitor","componentDidMount","setState","JSON","parse","localStorage","getItem","e","target","value","length","forEach","item","name","toUpperCase","startsWith","phone","indexOf","id","sort","a","b","localeCompare","render","stringify","map"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './VisitorsBlock.css';\r\nimport ModalVisitor from './ModalVisitor'\r\n\r\nclass VisitorsBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        visitors:[],\r\n        searchTag:'id',\r\n        editView:false,\r\n        modalContext:'',\r\n        showEditVisitor:false,\r\n        visitorEdit:{}\r\n    }\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.searchVisitor = this.searchVisitor.bind(this);\r\n    this.showModalVisitor = this.showModalVisitor.bind(this);\r\n    this.closeModalVisitor = this.closeModalVisitor.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({visitors:JSON.parse(localStorage.getItem('visitors'))});\r\n  }\r\n\r\n  searchVisitor(e){\r\n    var visitors = JSON.parse(localStorage.getItem('visitors'));\r\n    if(e.target.value.length>0)\r\n    visitors.forEach(function(item){\r\n        if(!item.name.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n          if(!item.phone.toUpperCase().startsWith(e.target.value.toUpperCase()))\r\n            delete visitors[visitors.indexOf(item)];\r\n    });\r\n\r\n    this.setState({visitors:visitors});\r\n  }\r\n\r\n  showModalVisitor(e){\r\n    var visitors = {};\r\n    this.state.visitors.forEach(function(item){\r\n        if(item.id===e){\r\n            visitors=item;\r\n        }\r\n    });\r\n    this.setState({visitorEdit:visitors,showEditVisitor:true});\r\n  }\r\n\r\n  closeModalVisitor(){\r\n    this.setState({showEditVisitor:false});\r\n  }\r\n\r\n  onChangeSelect(e){\r\n    var visitors = this.state.visitors;\r\n    visitors = visitors.sort(function (a, b) {\r\n           return a[e.target.value].localeCompare(b[e.target.value]);\r\n       })\r\n\r\n    this.setState({visitors:visitors,searchTag:e.target.value});\r\n  }\r\n\r\n  render() {\r\n    const visitors = this.state.visitors;\r\n    return (     \r\n      <div className=\"visitors-block\">\r\n         {this.state.showEditVisitor &&                   \r\n          <ModalVisitor visitors={this.state.visitors} className=\"modal\" visitor={JSON.parse(JSON.stringify(this.state.visitorEdit))} close={this.closeModalVisitor}/>\r\n        }\r\n          <div className=\"header\">\r\n              <h3>ALL VISITORS:</h3>\r\n              <button onClick={()=>this.showModalVisitor({})}>New visitor</button>\r\n          </div>\r\n          <div className=\"middle\">\r\n              <div className=\"sort\">\r\n                  <label>Sort by:</label>\r\n                  <select value={this.state.searchTag} onChange={(e)=>this.onChangeSelect(e)}>             \r\n                    <option value=\"name\">NAME</option>\r\n                    <option value=\"id\">ID</option>   \r\n                    <option value=\"phone\">PHONE</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"search\">\r\n                  <label>Search:</label>\r\n                  <input type=\"text\" onChange={this.searchVisitor}></input>\r\n              </div>\r\n          </div>\r\n          <div className=\"bottom\">\r\n            <table>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PHONE</th>\r\n                <th>EDIT</th>\r\n                {visitors.map(item=>\r\n                    <tr key={item.id}>\r\n                        <td>{item.id}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.phone}</td>\r\n                        <td><span key={item.id} onClick={()=>this.showModalVisitor(item.id)}>EDIT</span></td>\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n\r\n                </tr>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default VisitorsBlock;"]},"metadata":{},"sourceType":"module"}